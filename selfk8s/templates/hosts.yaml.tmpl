all:
  hosts:
    cp1:
      ansible_host: ${cp1_pub}
      ip: ${cp1_int}
      access_ip: ${cp1_int}
      ansible_user: ubuntu
    worker1:
      ansible_host: ${w1_pub}
      ip: ${w1_int}
      access_ip: ${w1_int}
      ansible_user: ubuntu
    worker2:
      ansible_host: ${w2_pub}
      ip: ${w2_int}
      access_ip: ${w2_int}
      ansible_user: ubuntu

  children:
    kube_control_plane:
      hosts:
        cp1: {}

    kube_node:
      hosts:
        cp1: {}
        worker1: {}
        worker2: {}

    etcd:
      hosts:
        cp1: {}

    k8s_cluster:
      children:
        kube_control_plane: {}
        kube_node: {}

    calico_rr:
      hosts: {}
